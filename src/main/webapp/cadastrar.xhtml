<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Cadastro de Tarefa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous"/>
    
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css"/>
  	<link rel="stylesheet" href="/resources/demos/style.css"/>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
	<script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
	<script>
	$( function() {
	 	$("[id$='deadline']").datepicker({
		      dateFormat: "yy-mm-dd"
	    });
	} );
  </script>
</h:head>
<h:body>
    <h:form styleClass="container my-4">
    
    		<div class="mb-3">
	            <h:outputLabel for="titulo" styleClass="form-label" value="Título:" />
	            <h:inputText id="titulo" styleClass="form-control" value="#{tarefaBean.tarefa.titulo}" required="true" />
    		</div>
			<div class="mb-3">
	            <h:outputLabel for="descricao" styleClass="form-label" value="Descrição:" />
	            <h:inputTextarea id="descricao" styleClass="form-control" value="#{tarefaBean.tarefa.descricao}" rows="4" cols="20" />
			</div>
			
			<div class="row mb-3">
				<div class="col">
					<h:outputLabel for="responsavel" styleClass="form-label" value="Responsável:" />
            		<h:inputText id="responsavel" styleClass="form-control" value="#{tarefaBean.tarefa.responsavel}" />
				</div>
				<div class="col">
		            <h:outputLabel for="prioridade" styleClass="form-label" value="Prioridade:" />
		            <h:selectOneMenu id="prioridade" styleClass="form-select" value="#{tarefaBean.tarefa.prioridade}">
		                <f:selectItems value="#{tarefaBean.prioridades}" var="p" itemValue="#{p}" itemLabel="#{p}" />
		            </h:selectOneMenu>
				</div>
			</div>
			
			<div class="row mb-3">
				<div class="col-6">
		            <h:outputLabel for="deadline" styleClass="form-label" value="Prazo:" />
		            <h:inputText id="deadline" styleClass="form-control" value="#{tarefaBean.tarefa.deadline}">
		                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="America/Sao_Paulo"/>
		            </h:inputText>
				</div>
			</div>
			
	        <h:commandButton value="#{tarefaBean.tarefa.id != null ? 'Editar' : 'Salvar'}" styleClass="btn btn-primary mx-2" action="#{tarefaBean.salvar}" />
	        <h:commandButton value="Cancelar" styleClass="btn btn-danger mx-2" action="listar?faces-redirect=true" immediate="true" />

    </h:form>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
</h:body>
</html>
